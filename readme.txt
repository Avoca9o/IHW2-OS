Отчет по ИДЗ 2
по дисциплине "Операционыне системы"

Владимиров Дмитрий Андреевич, БПИ218
Вариант 8

Условие:
Есть два государства (я иногда называю их командами), они ведут войну
у каждого есть поле N*N, на этом поле расположено введенное с клавиатуры
число минометов. Минометы поражают рандомные места противника (не поражая
одну клетку дважды) до тех пор, пока у него не останется минометов. 
Скорость стрельбы миномета зависит от того насколько он далеко (я брал
показатель y, но в целом это не важно, продемонстрировать корректную работу 
семафора удалось)

В чем идея:
изначально создается и открывается семафор mutex. Он будет контролировать
изменения на полях обеих комнад.

два поля в соответствии с условиями заполняются минометами. Далее создаются
потоки типа pthread_t, которые начинают нападать на поле противника 
с определенной периодичностью. Нападение заключается в том, что миномет
блокирует семафор, делает выстрел (то есть меняет каким-то образом базу
противника), и освобождает семафор. Если при этом он убивает один из
вражеских минометов, об этом выводится сообщение для более просто дебага.

В конце войны выводятся поля, чтобы можно было отследить и проверить,
совпадают ли выстрелы, которые выводились в консоль, с тем что есть на
самом деле.


ФОРМАТ ВХОДНЫХ ДАННЫХ
при запуске программе необходимо передать через аргументы командной строки 
два значения: размер стороны квадратного поля и количество минометов у обеих
сторон. Я сделал ограничения от 3 до 8 и на то (лишь для удобства, чтоб можно
было увидеть хоть что-то, а супер большие значения тут не имеют смысла), 
и на другое, в противном случае программа завершает свою работу с соответствующим
сообщением

ТЕСТИРОВАНИЕ
тестов как таковых к данной программе не придумать, поэтому сразу здесь покажу примеры
обработки неправильного ввода данных (эта часть одинакова во всех программах), а в 
конкретных пунктах (на 4, на 5 ...) буду лишь прокручивать программу и показывать
результаты вывода. 

Итак, примеры неправильного ввода:
avo@avo-Yoga-Slim-7-14IIL05:~/IHW2-OS/4$ gcc main.c -o main -lpthread
avo@avo-Yoga-Slim-7-14IIL05:~/IHW2-OS/4$ ./main 0 3
You should enter an integer from 3 to 8 as number of weapons
avo@avo-Yoga-Slim-7-14IIL05:~/IHW2-OS/4$ ./main 1
You should enter number of weapons and size of field
avo@avo-Yoga-Slim-7-14IIL05:~/IHW2-OS/4$ ./main 3 3 3
You should enter number of weapons and size of field
avo@avo-Yoga-Slim-7-14IIL05:~/IHW2-OS/4$ ./main a b
You should enter an integer from 3 to 8 as number of weapons
avo@avo-Yoga-Slim-7-14IIL05:~/IHW2-OS/4$ ./main 4 b
You should enter an integer from 3 to 8 as size of field
avo@avo-Yoga-Slim-7-14IIL05:~/IHW2-OS/4$ 

